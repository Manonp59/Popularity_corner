{% extends '../base.html' %}
{% load static %}

{% block title %}
    Accueil - Popularity Corner
{% endblock title %}

{% block header %}
    {% include 'public/includes/navbar.html' %}
{% endblock header %}

{% block body %}
{% load mathfilters %}

<p> Connecté : {{user.username}}</p>
<p>Erreur moyenne : {{rmse|floatformat:0}}</p>
<ul>
    {% for resultat in resultats %}
    {% if resultat.prediction is not None %}
    <li class="movie-item">
        <div class="text-resultats">
        <p>{{resultat.title}}, Date : {{resultat.week}}</p>
        <p>Résultats réels : {{resultat.entrance}}</p>
        <p>Prédiction : {{resultat.prediction|floatformat:0}}</p>
        <p> Pourcentage d'erreur : {{ resultat.prediction|sub:resultat.entrance|div:resultat.entrance|mul:100|floatformat:2 }}%</p>

    </li>
    {% endif%}
    {% endfor %}
</ul>

{% endblock body %}


{% block footer %}
    {% include 'public/includes/footer.html' %}
{% endblock footer %}
